# ğŸ—ï¸ ARCHITECTURE DOCUMENTATION

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          USER INTERFACE LAYER                           â”‚
â”‚                          (Streamlit Frontend)                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Chat Box   â”‚  â”‚ Tool Calls   â”‚  â”‚  Settings    â”‚  â”‚  Status    â”‚ â”‚
â”‚  â”‚              â”‚  â”‚  Sidebar     â”‚  â”‚  Panel       â”‚  â”‚  Monitor   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                         â†“â†“â†“ HTTP Requests â†“â†“â†“                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       API LAYER (FastAPI)                               â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  POST /chat         GET /health        GET /info               â”‚   â”‚
â”‚  â”‚  POST /reset        GET /conversation                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“â†“â†“ Routes â†“â†“â†“                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                  â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   RAG Layer  â”‚  â”‚ Agent Layer  â”‚  â”‚  Tools Layer         â”‚
â”‚              â”‚  â”‚              â”‚  â”‚                      â”‚
â”‚ - Document   â”‚  â”‚ - ReAct Loop â”‚  â”‚ - get_account_detai â”‚
â”‚   Loading    â”‚  â”‚ - Tool Call  â”‚  â”‚ - get_transaction   â”‚
â”‚ - Embedding  â”‚  â”‚   Decision   â”‚  â”‚ - find_branch       â”‚
â”‚ - Retrieval  â”‚  â”‚ - LLM Calls  â”‚  â”‚ - check_loan        â”‚
â”‚              â”‚  â”‚ - Context    â”‚  â”‚ - escalate_to_human â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   Building   â”‚  â”‚                      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      OpenAI GPT-4 Turbo API          â”‚
        â”‚  (Function Calling + Chat Completion) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†‘
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FAISS Vector     â”‚      â”‚  Banking Documents   â”‚
â”‚  Store            â”‚      â”‚                      â”‚
â”‚                   â”‚      â”‚ - banking_docs.txt   â”‚
â”‚ - Embeddings      â”‚      â”‚ - branch_data.json   â”‚
â”‚ - Similarity      â”‚      â”‚ - transactions.json  â”‚
â”‚   Search          â”‚      â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

```

---

## Message Flow Sequence

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Streamlit â”‚                                        â”‚ OpenAI   â”‚
â”‚   Frontend  â”‚                                        â”‚ API      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚ 1. User sends message                              â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚
      â”‚                                                     â”‚
      â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                                 â”‚ FastAPI     â”‚
      â”‚                                                 â”‚ Backend     â”‚
      â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚ 2. HTTP POST /chat                                 â”‚
      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’   â”‚
      â”‚                                                     â”‚
      â”‚                                                 3. Get RAG context
      â”‚                                                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                                     â”‚        â”‚
      â”‚                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                        â”‚ RAG System   â”‚â†’ â”‚ FAISS Store  â”‚
      â”‚                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚                                                 4. Call Agent
      â”‚                                                     â”‚
      â”‚                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                            â”‚ FunctionCalling â”‚
      â”‚                                            â”‚ Agent (ReAct)   â”‚
      â”‚                                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚                                       5. Decide which tool
      â”‚                                                     â”‚
      â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                         â”‚ Call Selected Tool   â”‚
      â”‚                                    (e.g. get_account_details) â”‚
      â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚                                         6. Analyze result
      â”‚                                                     â”‚
      â”‚                                         7. Generate response
      â”‚                                                     â”‚
      â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚                                                 â”‚ Optional:   â”‚
      â”‚                                                 â”‚ Call LLM    â”‚
      â”‚                                                 â”‚ again if    â”‚
      â”‚                                                 â”‚ needed      â”‚
      â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                                                     â”‚
      â”‚ 8. Return JSON response with:                      â”‚
      â”‚    - Agent response                                â”‚
      â”‚    - Tool calls made                               â”‚
      â”‚    - Iterations                                    â”‚
      â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
      â”‚                                                     â”‚
      â”‚ 9. Display on Streamlit UI
      â”‚    - Chat message
      â”‚    - Tool calls in expander
      â”‚    - Iteration count
```

---

## ReAct Loop (Agent Internal Flow)

```
START
  â”‚
  â”œâ”€â†’ 1. THOUGHT
  â”‚   â””â”€â†’ Analyze user query + RAG context
  â”‚       "What tool do I need?"
  â”‚
  â”œâ”€â†’ 2. ACTION
  â”‚   â””â”€â†’ LLM decides tool to call
  â”‚       "I need get_account_details(ACC001)"
  â”‚
  â”œâ”€â†’ 3. OBSERVATION
  â”‚   â””â”€â†’ Execute tool, get result
  â”‚       {account_id: ACC001, balance: 250000, ...}
  â”‚
  â”œâ”€â†’ 4. REFLECTION
  â”‚   â””â”€â†’ Analyze result
  â”‚       "I have the information needed"
  â”‚
  â”œâ”€â†’ 5. Response Generation
  â”‚   â””â”€â†’ LLM generates final response
  â”‚       "Your balance is Rs. 250,000..."
  â”‚
  â””â”€â†’ END - Return to user
```

---

## Data Flow

### RAG System Flow

```
Banking Documents (FAQs, Policies, Branches)
        â”‚
        â†“
   Text Splitting
        â”‚
        â”œâ”€â†’ Chunk 1
        â”œâ”€â†’ Chunk 2
        â”œâ”€â†’ Chunk 3
        â””â”€â†’ Chunk N
        
        â†“
   OpenAI Embeddings
        â”‚
        â”œâ”€â†’ Vector 1 (1536-dim)
        â”œâ”€â†’ Vector 2 (1536-dim)
        â”œâ”€â†’ Vector 3 (1536-dim)
        â””â”€â†’ Vector N (1536-dim)
        
        â†“
   FAISS Vector Store
        â”‚
   (Persistent Storage)
        
        â†“ (At Query Time)
        
   User Query
        â”‚
        â†“
   Query Embedding (1536-dim)
        â”‚
        â†“
   Similarity Search
        â”‚
   (Find top-5 similar chunks)
        â”‚
        â†“
   Context Provided to LLM
```

### Tool Execution Flow

```
Agent Decision
        â”‚
        â”œâ”€â†’ Tool: get_account_details
        â”‚   â”‚
        â”‚   â””â”€â†’ Load account data from JSON
        â”‚       â””â”€â†’ Find account ID
        â”‚           â””â”€â†’ Return account details
        â”‚
        â”œâ”€â†’ Tool: get_transaction_history
        â”‚   â”‚
        â”‚   â””â”€â†’ Load transactions from JSON
        â”‚       â””â”€â†’ Filter by account ID
        â”‚           â””â”€â†’ Return last 10 transactions
        â”‚
        â”œâ”€â†’ Tool: find_nearest_branch
        â”‚   â”‚
        â”‚   â””â”€â†’ Load branch data from JSON
        â”‚       â””â”€â†’ Search by city
        â”‚           â””â”€â†’ Return matching branches
        â”‚
        â”œâ”€â†’ Tool: check_loan_eligibility
        â”‚   â”‚
        â”‚   â””â”€â†’ Get account details
        â”‚       â””â”€â†’ Check loan type rules
        â”‚           â””â”€â†’ Validate balance requirement
        â”‚               â””â”€â†’ Return eligibility
        â”‚
        â””â”€â†’ Tool: escalate_to_human
            â”‚
            â””â”€â†’ Create ticket
                â””â”€â†’ Return ticket ID + priority
```

---

## Configuration & Data Storage

```
Project Root
â”‚
â”œâ”€â”€ .env (Secrets)
â”‚   â”œâ”€â”€ OPENAI_API_KEY
â”‚   â”œâ”€â”€ OPENAI_MODEL
â”‚   â””â”€â”€ Other settings
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config.py (Settings object)
â”‚   â”‚   â””â”€â”€ Pydantic BaseSettings
â”‚   â”‚       â”œâ”€â”€ Paths
â”‚   â”‚       â”œâ”€â”€ API configs
â”‚   â”‚       â””â”€â”€ RAG parameters
â”‚   â”‚
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ banking_docs.txt (FAQs & policies)
â”‚       â”œâ”€â”€ branch_data.json (Branch information)
â”‚       â””â”€â”€ transactions.json (Sample transactions)
â”‚
â””â”€â”€ vectorstore/
    â”œâ”€â”€ banking_vectorstore/
    â”‚   â”œâ”€â”€ index.faiss (Vector index)
    â”‚   â”œâ”€â”€ index.pkl (Metadata)
    â”‚   â””â”€â”€ docstore.pkl (Document storage)
    â”‚
    â””â”€â”€ (Auto-created on first run)
```

---

## Error Handling Flow

```
User Request
        â”‚
        â”œâ”€â†’ Validation Error
        â”‚   â””â”€â†’ Return 422 Unprocessable Entity
        â”‚
        â”œâ”€â†’ API Key Error
        â”‚   â””â”€â†’ Return 500 with auth error
        â”‚
        â”œâ”€â†’ Tool Execution Error
        â”‚   â””â”€â†’ Log error
        â”‚   â””â”€â†’ Continue with next tool
        â”‚
        â”œâ”€â†’ Timeout Error (>30s)
        â”‚   â””â”€â†’ Return partial response
        â”‚
        â”œâ”€â†’ Connection Error
        â”‚   â””â”€â†’ Return 503 Service Unavailable
        â”‚
        â””â”€â†’ Success
            â””â”€â†’ Return 200 with response
```

---

## Performance Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Request Optimization              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Request 1  Request 2  Request 3       â”‚
â”‚     â”‚          â”‚          â”‚            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â†“         â†“                  â”‚
â”‚     FastAPI Async  Worker Pool        â”‚
â”‚           â”‚         â”‚                  â”‚
â”‚  (Can handle 100+ concurrent)         â”‚
â”‚                                         â”‚
â”‚  RAG Context (Cached in memory)        â”‚
â”‚  Vector Store (FAISS - Fast)           â”‚
â”‚                                         â”‚
â”‚  Tool Results (In-memory storage)      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Scalability Considerations

```
Current: Single Backend Instance
â”œâ”€â†’ 100+ concurrent requests (FastAPI async)
â”œâ”€â†’ Tool response time: <500ms
â”œâ”€â†’ LLM call time: 2-5s
â””â”€â†’ Total per request: 2-5s

Scalable: Multiple Instances
â”œâ”€â†’ Load Balancer (NGINX)
â”œâ”€â†’ 3x Backend Instances
â”œâ”€â†’ Shared RAG Vector Store (Redis/Distributed)
â”œâ”€â†’ Tool caching layer
â””â”€â†’ Request queuing

Enterprise: Full Stack
â”œâ”€â†’ Kubernetes orchestration
â”œâ”€â†’ PostgreSQL for persistence
â”œâ”€â†’ Redis for caching
â”œâ”€â†’ Monitoring & Logging (ELK stack)
â””â”€â†’ API Gateway
```

---

## Security Architecture

```
User Request (Public)
        â”‚
        â†“
    CORS Check âœ“
        â”‚
        â†“
    Input Validation âœ“
    (Pydantic models)
        â”‚
        â†“
    (No API keys in request)
        â”‚
        â†“
    FastAPI Processing
        â”‚
        â”œâ”€â†’ Load API Key from .env
        â”‚   (Environment variable)
        â”‚
        â”œâ”€â†’ Call OpenAI API
        â”‚   (Secure connection)
        â”‚
        â””â”€â†’ Return sanitized response
            (No secrets leaked)
```

---

## Deployment Architecture (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Docker Container                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ FastAPI  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Streamlit â”‚         â”‚
â”‚  â”‚ Port 8000 â”‚           â”‚ Port 8501 â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚        â”‚                                        â”‚
â”‚        â”œâ”€â†’ RAG System (Vector Store)            â”‚
â”‚        â”œâ”€â†’ Banking Tools (In-memory)            â”‚
â”‚        â””â”€â†’ LLM Integration (OpenAI API)        â”‚
â”‚                                                 â”‚
â”‚  â”œâ”€ Logging (Container logs)                    â”‚
â”‚  â”œâ”€ Health Checks (/health endpoint)            â”‚
â”‚  â””â”€ Configuration (Environment variables)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Kubernetes (K8s) - Multiple Replicas       â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Pod 1 â”‚ â”‚Pod 2 â”‚ â”‚Pod 3 â”‚  â”‚Load Bal. â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚     â”‚        â”‚        â”‚            â–²           â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚           â”‚
â”‚              â†“                     â”‚           â”‚
â”‚         Service                    â”‚           â”‚
â”‚         (Internal DNS)             â”‚           â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                 â”‚
â”‚  Persistent Volumes:                           â”‚
â”‚  â”œâ”€ Vector Store (Shared FAISS)                â”‚
â”‚  â””â”€ Logs                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Technology Stack Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PRESENTATION LAYER               â”‚
â”‚  Streamlit (Python Web Framework)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          APPLICATION LAYER               â”‚
â”‚  FastAPI (Async Python Framework)        â”‚
â”‚  Pydantic (Data Validation)              â”‚
â”‚  Python (Language)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           LOGIC LAYER                    â”‚
â”‚  Function Calling Agent (LangChain)      â”‚
â”‚  RAG System (LangChain)                  â”‚
â”‚  Banking Tools (Custom)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DATA LAYER                     â”‚
â”‚  FAISS (Vector Store)                    â”‚
â”‚  OpenAI Embeddings (Vector Generation)   â”‚
â”‚  JSON (Data Storage)                     â”‚
â”‚  Environment Variables (.env)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           AI/ML LAYER                    â”‚
â”‚  OpenAI GPT-4 Turbo (LLM)                â”‚
â”‚  Function Calling (Tool Integration)     â”‚
â”‚  Text Embedding (Vector Generation)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Next Steps for Enhancement

```
Current Architecture
        â”‚
        â”œâ”€â†’ Add Database (PostgreSQL)
        â”‚   â””â”€â†’ Store conversations
        â”‚
        â”œâ”€â†’ Add Authentication (JWT)
        â”‚   â””â”€â†’ User management
        â”‚
        â”œâ”€â†’ Add Caching (Redis)
        â”‚   â””â”€â†’ Tool results
        â”‚   â””â”€â†’ Embeddings
        â”‚
        â”œâ”€â†’ Add Monitoring (DataDog)
        â”‚   â””â”€â†’ Performance metrics
        â”‚   â””â”€â†’ Error tracking
        â”‚
        â”œâ”€â†’ Add Voice (Azure Speech)
        â”‚   â””â”€â†’ Speech to text
        â”‚   â””â”€â†’ Text to speech
        â”‚
        â””â”€â†’ Add Multi-Language
            â””â”€â†’ Translation API
```

---

**This architecture is production-ready and scalable!** âœ…
